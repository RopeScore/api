overwrite: true
schema:
  - src/schema.ts
config:
  scalars:
    Timestamp: Timestamp
    JSON: "{ [prop: string]: any }"
generates:
  graphql.schema.json:
    plugins:
      - "introspection"
  src/generated/graphql.ts:
    config:
      useIndexSignature: true
      avoidOptionals: false
      contextType: ApolloContext
      mappers:
        User: ../store/schema#UserDoc
        Device: ../store/schema#DeviceDoc
        Group: ../store/schema#GroupDoc
        Scoresheet: ../store/schema#ScoresheetDoc
    plugins:
      - typescript
      - typescript-resolvers
      - add:
          content: |
            import type { ApolloContext } from '../apollo'
            import type { Timestamp } from '@google-cloud/firestore'
